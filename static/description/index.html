<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Stock Picking Cancel, Draft & Change Warehouse</title>
    <style type="text/css">
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
      }
      h1 {
        color: #875a7b;
        border-bottom: 2px solid #875a7b;
        padding-bottom: 10px;
      }
      h2 {
        color: #875a7b;
        margin-top: 2em;
      }
      h3 {
        color: #666;
        margin-top: 1.5em;
      }
      a {
        color: #00a09d;
      }
      code,
      pre {
        background-color: #f4f4f4;
        border-radius: 4px;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo,
          monospace;
      }
      code {
        padding: 2px 6px;
      }
      pre {
        padding: 15px;
        overflow-x: auto;
      }
      ul,
      ol {
        padding-left: 25px;
      }
      li {
        margin-bottom: 8px;
      }
      .badge {
        display: inline-block;
        margin-right: 5px;
      }
      .note {
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 12px 15px;
        margin: 15px 0;
      }
      .info {
        background-color: #d1ecf1;
        border-left: 4px solid #17a2b8;
        padding: 12px 15px;
        margin: 15px 0;
      }
      .section {
        margin-bottom: 30px;
      }
      .feature-list {
        background-color: #f8f9fa;
        padding: 15px 20px;
        border-radius: 8px;
        margin: 15px 0;
      }
      .feature-list li {
        margin-bottom: 10px;
      }
      .step-number {
        display: inline-block;
        width: 24px;
        height: 24px;
        background-color: #875a7b;
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 24px;
        font-size: 14px;
        margin-right: 8px;
      }
    </style>
  </head>
  <body>
    <div class="document">
      <h1>Stock Picking Cancel, Draft & Change Warehouse</h1>

      <p class="badge">
        <a href="http://www.gnu.org/licenses/agpl-3.0-standalone.html">
          <img
            alt="License: AGPL-3"
            src="https://img.shields.io/badge/licence-AGPL--3-blue.png"
          />
        </a>
      </p>

      <p>
        This module allows you to change the warehouse on pickings with a
        <strong>single click</strong>. The "Change Warehouse" action will
        automatically:
      </p>

      <ol>
        <li>Cancel the picking (if not already cancelled)</li>
        <li>Reset it to draft state</li>
        <li>Update the warehouse, operation type, and locations</li>
        <li>Confirm the picking as "To Do"</li>
      </ol>

      <div class="info">
        <strong>Key Benefit:</strong> This is especially useful for 2-step or
        3-step delivery/receipt workflows where you need to reassign pickings to
        a different warehouse while preserving the chain links between Pick and
        Out operations. Serial numbers flow correctly through the chain after
        warehouse change.
      </div>

      <div class="section" id="features">
        <h2>Features</h2>
        <ul class="feature-list">
          <li>
            <strong>Single-click operation:</strong> No need to manually cancel
            and reset pickings first
          </li>
          <li>
            <strong>Chain preservation:</strong> Pick â†” Out chain links are
            maintained
          </li>
          <li>
            <strong>Serial number flow:</strong> Serial numbers flow correctly
            through the chain after warehouse change
          </li>
          <li>
            <strong>Automatic confirmation:</strong> Pickings are marked as "To
            Do" after the change
          </li>
          <li>
            <strong>Chained picking support:</strong> Optionally update all
            linked pickings in the chain
          </li>
          <li>
            <strong>Multi-step delivery support:</strong> Works with 2-step
            (Pick + Ship) and 3-step workflows
          </li>
          <li>
            <strong>Multi-step receipt support:</strong> Works with 2-step
            (Receipt + Internal) workflows
          </li>
        </ul>
      </div>

      <div class="section" id="installation">
        <h2>Installation</h2>
        <ol>
          <li>
            Copy the <code>stock_picking_cancel_back2draft</code> folder to your
            Odoo addons directory.
          </li>
          <li>
            Update the apps list in Odoo (Settings &gt; Apps &gt; Update Apps
            List).
          </li>
          <li>
            Search for "Stock Picking Cancel, Draft & Change Warehouse" and
            install it.
          </li>
        </ol>
      </div>

      <div class="section" id="configuration">
        <h2>Configuration</h2>
        <p>
          To allow users to change warehouse on pickings, you must add them to
          the "Cancel &amp; Back to Draft Pickings" security group:
        </p>
        <ol>
          <li>Go to Settings &gt; Users &amp; Companies &gt; Users.</li>
          <li>Select the user you want to grant access to.</li>
          <li>
            Under "Other" or "Technical Settings", enable "Cancel &amp; Back to
            Draft Pickings".
          </li>
        </ol>
        <p>
          Only users in this group will see the button and be able to use this
          feature.
        </p>
      </div>

      <div class="section" id="usage">
        <h2>Usage</h2>
        <p>To change the warehouse on a picking:</p>
        <ol>
          <li>
            <span class="step-number">1</span>Open a picking form view (any
            state except "Done")
          </li>
          <li>
            <span class="step-number">2</span>Click the
            <strong>"Change Warehouse"</strong> button
          </li>
          <li>
            <span class="step-number">3</span>In the wizard:
            <ul>
              <li>Select the new warehouse</li>
              <li>
                Choose whether to include chained pickings (Pick/Out chain)
              </li>
              <li>Review the pickings that will be updated</li>
            </ul>
          </li>
          <li>
            <span class="step-number">4</span>Click
            <strong>"Change Warehouse"</strong> to execute
          </li>
        </ol>

        <p>The system will automatically:</p>
        <ul>
          <li>Cancel the pickings (preserving chain links)</li>
          <li>Reset them to draft</li>
          <li>Update warehouse, operation type, and locations</li>
          <li>Confirm them as "To Do"</li>
        </ul>

        <div class="note">
          <strong>Note:</strong> This action cannot be performed on pickings in
          the "Done" state.
        </div>
      </div>

      <div class="section" id="support">
        <h2>Support</h2>
        <p>For support, please contact SJR Nebula:</p>
        <ul>
          <li>Website: <a href="https://sjr.ie">https://sjr.ie</a></li>
          <li>Email: <a href="mailto:info@sjr.ie">info@sjr.ie</a></li>
        </ul>
      </div>

      <div class="section" id="credits">
        <h2>Credits</h2>

        <h3>Authors</h3>
        <ul>
          <li>SJR Nebula</li>
        </ul>

        <h3>Contributors</h3>
        <ul>
          <li>John Ashurst</li>
        </ul>
      </div>
    </div>
  </body>
</html>
